<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <title>VK0 â€” vINKo System</title>
  <meta name="description" content="VK0 es la mÃ¡quina integrada (concepto en desarrollo) diseÃ±ada para trabajar con vINKo System: menos desperdicio, mÃ¡s higiene y mÃ¡s control del workflow." />

  <link rel="canonical" href="https://vinkosystem.com/vk0.html" />
  <link rel="alternate" href="https://vinkosystem.com/vk0.html" hreflang="es" />
  <link rel="alternate" href="https://vinkosystem.com/en.html" hreflang="en" />
  <link rel="alternate" href="https://vinkosystem.com/vk0.html" hreflang="x-default" />

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="vINKo System" />
  <meta property="og:title" content="VK0 â€” vINKo System" />
  <meta property="og:description" content="La mÃ¡quina integrada (concepto en desarrollo) para vINKo System: menos desperdicio, mÃ¡s higiene y mÃ¡s control del workflow." />
  <meta property="og:url" content="https://vinkosystem.com/vk0.html" />
  <meta property="og:image" content="https://vinkosystem.com/assets/img/vk0_concept.png" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="VK0 â€” vINKo System" />
  <meta name="twitter:description" content="La mÃ¡quina integrada (concepto en desarrollo) para vINKo System." />
  <meta name="twitter:image" content="https://vinkosystem.com/assets/img/vk0_concept.png" />

  <link rel="stylesheet" href="styles.css?v=1.0.14" />

  <!-- Preloads -->
  <link rel="preload" href="/assets/img/LogoBlanco.png" as="image">
  <link rel="preload" href="/assets/img/vk0_concept.png" as="image">

  <!-- AOS -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />

  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="48x48" href="/assets/img/favicon-48x48.png">
  <link rel="icon" href="/assets/img/favicon.ico" sizes="any">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#0b0f14">
</head>

<body class="page-vk0">
  <header class="header">
    <a class="brand" href="index.html" aria-label="Ir al inicio">
      <span class="brand-dot"></span>
      <span>vINKo System</span>
    </a>

    <!-- BotÃ³n menÃº mÃ³vil -->
    <button class="nav-toggle" type="button" aria-label="Abrir menÃº" aria-expanded="false" aria-controls="site-nav">
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
    </button>

    <div class="header-right" id="site-nav">
      <nav class="nav" aria-label="NavegaciÃ³n principal">
        <a href="vk0.html">VK0</a>
        <a href="vinkosystem.html">vINKo System</a>
        <a href="problema.html">Problema</a>
        <a href="idea.html">La idea</a>
        <a href="beneficios.html">Beneficios</a>
        <a href="founder-council.html">Founder Council</a>
        <a href="roadmap.html">Roadmap</a>
        <a href="faq.html">FAQ</a>
        <a href="sobre-mi.html">Sobre mÃ­</a>
        <a href="lista.html" class="btn primary">Lista de espera</a>
      </nav>

      <!-- Selector de idioma (ES actual) -->
      <div class="lang-switch" aria-label="Idioma del sitio">
        <button class="lang current" type="button" aria-label="Idioma actual: espaÃ±ol">
          <span class="flag">ðŸ‡ªðŸ‡¸</span><span class="code">ES</span>
        </button>
        <a class="lang" href="en.html" aria-label="Cambiar a inglÃ©s">
          <span class="flag">ðŸ‡¬ðŸ‡§</span><span class="code">EN</span>
        </a>
      </div>
    </div>
  </header>

  <main id="main">
    <!-- HERO (explosiÃ³n Apple-like) -->
    <section id="top" class="vk0-scroll-hero" aria-label="VK0 scroll animation">
      <div class="vk0-sticky">
        <canvas
          id="vk0-seq"
          class="vk0-scroll-canvas"
          data-desktop="/assets/vk0-360/desktop/frame_%04d.webp"
          data-mobile="/assets/vk0-360/mobile/frame_%04d.webp"
          data-frames="210"
          aria-hidden="true"
        ></canvas>

        <div class="vk0-shade" aria-hidden="true"></div>

        <div class="vk0-steps" aria-hidden="false">
        <!-- Step 1 -->
        <div class="vk0-step" data-start="0.02" data-end="0.28">
          <div class="vk0-top"><h1>VK0</h1></div>
          <div class="vk0-bottom"><p>VIsta 360Âº del concepto.</p></div>
        </div>

        <!-- Step 2 -->
        <div class="vk0-step" data-start="0.32" data-end="0.58">
          <div class="vk0-top"><h2>DiseÃ±o integrado</h2></div>
          <div class="vk0-bottom"><p>Una mÃ¡quina pensada para encajar con el sistema.</p></div>
        </div>

        <!-- Step 3 -->
        <div class="vk0-step" data-start="0.62" data-end="0.88" data-hold="1">
          <div class="vk0-top"><h2>Â¿Listo para conocer mÃ¡s?</h2></div>
          <div class="vk0-bottom">
            <p>ApÃºntate</p>
            <div class="vk0-cta">
              <a class="btn primary" href="lista.html">Lista de espera</a>
            </div>
          </div>
        </div>
      </div>
      </div>
    </section>

      <!-- Placeholder oculto por compatibilidad si tu main.js espera #earlyForm -->
      <form id="earlyForm" class="hidden" aria-hidden="true"></form>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      <div class="brand small">
        <span class="brand-dot"></span><span>vINKo System</span>
      </div>

      <div class="footer-links">
        <a href="vk0.html">VK0</a>
        <a href="problema.html">Problema</a>
        <a href="idea.html">La idea</a>
        <a href="beneficios.html">Beneficios</a>
        <a href="founder-council.html">Founder Council</a>
        <a href="roadmap.html">Roadmap</a>
        <a href="faq.html">FAQ</a>
        <a href="sobre-mi.html">Sobre mÃ­</a>
        <a href="lista.html">Lista</a>
      </div>

      <div class="footer-right">
        <div class="social-links" aria-label="Redes sociales de vINKo System">
          <a href="https://www.linkedin.com/company/vinko-system" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
            <img src="assets/img/linkedin.svg" alt="LinkedIn" class="social-icon" />
          </a>
          <a href="https://www.instagram.com/vinko.system" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
            <img src="assets/img/instagram.svg" alt="Instagram" class="social-icon" />
          </a>
          <a href="https://www.tiktok.com/@vinko.tech" target="_blank" rel="noopener noreferrer" aria-label="TikTok">
            <img src="assets/img/tiktok.svg" alt="TikTok" class="social-icon" />
          </a>
        </div>

        <div class="lang-switch small" aria-label="Idioma del sitio">
          <button class="lang current" type="button" aria-label="Idioma actual: espaÃ±ol">
            <span class="flag">ðŸ‡ªðŸ‡¸</span><span class="code">ES</span>
          </button>
          <a class="lang" href="en.html" aria-label="Cambiar a inglÃ©s">
            <span class="flag">ðŸ‡¬ðŸ‡§</span><span class="code">EN</span>
          </a>
        </div>

        <div class="footer-meta">
          Â© <span id="year"></span> vINKo System. Todos los derechos reservados.
        </div>

        <div class="footer-meta" style="margin-top:6px;">
          <a href="/privacy.html">Privacidad</a> Â· <a href="/cookies.html">Cookies</a> Â· <a href="lista.html">Contacto</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- AOS JS -->
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      AOS.init({
        duration: 700,
        easing: "ease-out",
        offset: 80,
        once: true
      });
    });
  </script>

<!-- VK0 Scroll Animation (Apple-like) -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const section = document.querySelector('.vk0-scroll-hero');
      if (!section) return;

      const sticky = section.querySelector('.vk0-sticky');
      const canvas = document.getElementById('vk0-seq');
      const header = document.querySelector('.header');

      // Fix 100vh en mÃ³vil (barras dinÃ¡micas)
      const setVH = () => {
        document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`);
      };
      setVH();

      // ---- PIN ROBUSTO (tipo Apple) ----
      let headerH = 0;
      let start = 0;
      let end = 0;
      let scrollable = 1;

      const recalc = () => {
        headerH = header ? header.offsetHeight : 0;
        start = section.offsetTop - headerH;
        scrollable = Math.max(1, section.offsetHeight - window.innerHeight);
        end = start + scrollable;

        const bottomTop = Math.max(0, section.offsetHeight - window.innerHeight);
        section.style.setProperty('--vk0-bottom-top', `${bottomTop}px`);
      };
      recalc();

      const updatePin = () => {
        if (!sticky) return;
        const y = window.scrollY || window.pageYOffset || 0;

        sticky.classList.remove('is-fixed', 'is-bottom');
        if (y >= start && y < end) sticky.classList.add('is-fixed');
        else if (y >= end) sticky.classList.add('is-bottom');
      };

      const clamp01 = (x) => Math.min(1, Math.max(0, x));
      const progressInSection = () => {
        const y = window.scrollY || window.pageYOffset || 0;
        return clamp01((y - start) / scrollable);
      };

      updatePin();
      window.addEventListener('scroll', updatePin, { passive: true });
      window.addEventListener('resize', () => {
        setVH();
        recalc();
        updatePin();
        if (canvas) resizeCanvas();
      }, { passive: true });

      // ---- TEXTO (steps) ----
      const steps = Array.from(section.querySelectorAll('.vk0-step')).map(el => ({
        el,
        start: parseFloat(el.dataset.start || '0'),
        end: parseFloat(el.dataset.end || '1'),
      }));

      const smoothstep = (a, b, x) => {
        const t = clamp01((x - a) / (b - a));
        return t * t * (3 - 2 * t);
      };

      // Entrada/salida con transiciÃ³n breve pero â€œdirectaâ€
      const windowFade = (p, start, end, fade = 0.08) => {
        const i = smoothstep(start, start + fade, p);
        const o = 1 - smoothstep(end - fade, end, p);
        return clamp01(i * o);
      };

      const renderSteps = (p) => {
        for (const s of steps) {
          const hold = s.el.dataset.hold === '1';
          const o = hold
          ? smoothstep(s.start, s.start + 0.08, p)         // aparece y se queda
          : windowFade(p, s.start, s.end, 0.08);           // comportamiento normal
          const y = (1 - o) * 16;
          const blur = (1 - o) * 5;
          const scale = 0.985 + (o * 0.015);

          s.el.style.opacity = o.toFixed(3);
          s.el.style.transform = `translateY(${y.toFixed(1)}px) scale(${scale.toFixed(3)})`;
          s.el.style.filter = `blur(${blur.toFixed(2)}px)`;
          s.el.style.pointerEvents = o > 0.6 ? 'auto' : 'none';
        }
      };

      // ---- CANVAS SEQUENCE (Apple-level) ----
      let ctx = null;
      let totalFrames = 0;
      let tplDesktop = '';
      let tplMobile = '';

      let imgs = [];
      let loaded = [];

      let current = 1;
      let target = 1;

      const easeFrames = 0.22; // sube a 0.28 si lo quieres mÃ¡s pegado al scroll

      const isMobile = () => window.matchMedia('(max-width: 720px)').matches;

      const frameUrl = (i) => {
        const tpl = isMobile() ? tplMobile : tplDesktop;
        const n = String(i).padStart(4, '0');
        return tpl.replace('%04d', n);
      };

      function resizeCanvas() {
        if (!canvas || !ctx) return;
        const dpr = Math.min(2, window.devicePixelRatio || 1);
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;

        canvas.width = Math.round(w * dpr);
        canvas.height = Math.round(h * dpr);
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }

      function drawSmart(img) {
        if (!canvas || !ctx) return;

        const cw = canvas.clientWidth;
        const ch = canvas.clientHeight;
        const iw = img.naturalWidth;
        const ih = img.naturalHeight;

        // MÃ³vil: contain (no recorta). Desktop: cover (cinemÃ¡tico).
        const contain = isMobile();
        const scale = contain ? Math.min(cw / iw, ch / ih) : Math.max(cw / iw, ch / ih);

        const dw = iw * scale;
        const dh = ih * scale;
        const dx = (cw - dw) / 2;
        const dy = (ch - dh) / 2;

        ctx.clearRect(0, 0, cw, ch);
        ctx.drawImage(img, dx, dy, dw, dh);
      }

      function loadFrame(i) {
        if (!canvas || !ctx) return;
        if (i < 1 || i > totalFrames) return;
        if (imgs[i]) return;

        const img = new Image();
        img.decoding = 'async';
        img.src = frameUrl(i);
        imgs[i] = img;
        img.onload = () => { loaded[i] = true; };
      }

      function preloadWindow(center) {
        // Ventana alrededor del frame actual (50fps => mÃ¡s radio)
        const r = isMobile() ? 24 : 34;
        for (let i = center - r; i <= center + r; i++) loadFrame(i);
      }

      // Loop (solo mientras el HERO estÃ¡ en viewport)
      let raf = 0;
      let active = false;

      function tick() {
        if (!active) { raf = 0; return; }

        const p = progressInSection();

        // Steps siempre
        renderSteps(p);

        // Frames si hay secuencia
        if (ctx && totalFrames > 0) {
          target = 1 + p * (totalFrames - 1);
          current += (target - current) * easeFrames;

          const idx = Math.max(1, Math.min(totalFrames, Math.round(current)));
          preloadWindow(idx);

          const img = imgs[idx];
          if (img && (img.complete || loaded[idx])) drawSmart(img);
        }

        raf = requestAnimationFrame(tick);
      }

      const io = new IntersectionObserver((entries) => {
        active = entries.some(e => e.isIntersecting);
        if (active && !raf) raf = requestAnimationFrame(tick);
      }, { threshold: 0.01 });

      io.observe(section);

      // Init (primer render para que se vea texto inmediatamente)
      renderSteps(progressInSection());

      // Setup canvas (si existe)
      if (canvas) {
        ctx = canvas.getContext('2d', { alpha: false });
        totalFrames = parseInt(canvas.dataset.frames || '0', 10);
        tplDesktop = canvas.dataset.desktop || '';
        tplMobile = canvas.dataset.mobile || '';

        imgs = new Array(totalFrames + 1);
        loaded = new Array(totalFrames + 1).fill(false);

        resizeCanvas();

        // Preload inicial (rÃ¡pido para evitar negro)
        const initN = Math.min(50, totalFrames);
        for (let i = 1; i <= initN; i++) loadFrame(i);
        loadFrame(1);

        // Dibuja el primer frame cuando estÃ© listo
        const drawFirst = () => {
          const img = imgs[1];
          if (img && img.complete) drawSmart(img);
          else requestAnimationFrame(drawFirst);
        };
        requestAnimationFrame(drawFirst);

        // Si cambia el breakpoint (mobile/desktop), vaciamos cache para usar la otra carpeta
        const mq = window.matchMedia('(max-width: 720px)');
        mq.addEventListener('change', () => {
          imgs = new Array(totalFrames + 1);
          loaded = new Array(totalFrames + 1).fill(false);
          resizeCanvas();
          for (let i = 1; i <= initN; i++) loadFrame(i);
          loadFrame(1);
          renderSteps(progressInSection());
        });
      }
    });
  </script>

<script src="main.js?v=1.0.6" defer></script>
</body>
</html>
